# Project: HH_BBT2017_Boost

# Path to the compiler DIR
COMPILER_DIR   = /usr/local/gcc-9.2.0

# Path to the boost library DIR
BOOST_DIR = /home/libraries/boost_1_71_0

# Compiler and version
CPP      = g++-9.2.0

# Object files
OBJ      = HH_BBT2017_Boost.o iappDist_Boost.o SpikeTrain_Boost.o
LINKOBJ  = HH_BBT2017_Boost.o iappDist_Boost.o SpikeTrain_Boost.o

# Libraries to link
LIBS     = -L"$(COMPILER_DIR)/lib" -static-libgcc -L"$(BOOST_DIR)/libs"

# Include files
CXXINCS  = -I"$(COMPILER_DIR)/include" -I"./"

# Extra flags to give to the C preprocessor and programs
CXXFLAGS = $(CXXINCS) 

BIN      = HH_BBT2017_Boost
RM       = rm -f

#============================================================================
# Targets

.PHONY: all all-before all-after clean clean-custom

all: all-before $(BIN) all-after

clean: clean-custom
	${RM} $(OBJ) $(BIN)

$(BIN): $(OBJ)
	$(CPP) $(LINKOBJ) -o $(BIN) $(LIBS)

# Targets to build the object files
HH_BBT2017_Boost.o: HH_BBT2017_Boost.cpp
	$(CPP) -c HH_BBT2017_Boost.cpp -o HH_BBT2017_Boost.o $(CXXFLAGS)

iappDist_Boost.o: iappDist_Boost.cpp
	$(CPP) -c iappDist_Boost.cpp -o iappDist_Boost.o $(CXXFLAGS)

SpikeTrain_Boost.o: SpikeTrain_Boost.cpp
	$(CPP) -c SpikeTrain_Boost.cpp -o SpikeTrain_Boost.o $(CXXFLAGS)
